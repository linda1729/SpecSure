# **实验 6：【Alpha 1/3】项目 Alpha 冲刺报告**

项目名：**SpecSure（澜瞳）**
 小组名：**BlueArray（潮霸）**

------

# **一、基本情况**

- **团队 ID：** 01
- **组长博客地址：** https://blog.linda1729.com/columns/specsure/（补建专栏）
- **小组 Github 仓库地址：** https://github.com/linda1729/SpecSure
- **小组成员：**
  - 前端负责：於佳杰
  - 后端负责：刘芳宇（组长）
  - 模型训练（CNN）：陈怡冰
  - 模型训练（SVM）：邓林
- **本次冲刺范围**：根据附件的项目选题要求和功能结构，完成原型系统的 Alpha 版本雏形，包括需求确认、数据流程确定、模型初版、接口草案和页面原型等。
  - 选题参考：海岸带高光谱数据分类系统（补github链接）
  - 分工参考：四模块（前端 / 后端 / SVM / CNN）并行推进（补github链接）
  - 项目准备内容（数据、技术栈、工具）（补github链接）
  - 系统预期功能及结构（最终目标）（补github链接）

------

# **二、冲刺概况汇报**

------

## 前端：於佳杰

### ✅ **过去完成了哪些任务**

1. **完成前端整体需求确认**
   - 根据系统预期功能（数据导入、预处理、模型训练、结果可视化）绘制全局 UI 草图和页面结构。
   - 明确 4 大模块：Data Import / Preprocessing / Model Training / Results & Evaluation【】
2. **制作前端原型页面（静态版）**
   - 搭建前端项目基本结构（如 Vue / React）
   - 使用 mock 数据模拟了：
     - 数据导入界面（可显示假彩色图 + 光谱曲线）
     - 预处理界面（降噪 / 波段选择 / 标准化 模块卡片）
     - 模型训练界面（SVM/CNN 双模型卡片）
     - 分类结果可视化界面（3 个圆形图 + 混淆矩阵布局）
3. **与后端协商 API 参数格式**
   - 明确需要的接口：
      `/upload_hsi`, `/preprocess`, `/classify_svm`, `/classify_cnn`, `/evaluate`

### 📁 **Github 提交记录截图**

> （大家这里把图片单发我，我来插入）

### 🔮 **接下来的计划**

- 在 API 出来后实现真实数据联调
- 完成光谱曲线交互
- 优化分类图展示与图例切换

### ⚠ **遇到的困难**

- 光谱曲线组件在 mock 数据下可以跑，但真实高光谱数据格式较复杂，需要等待后端提供标准格式
- 分类图数据量较大时，前端渲染性能要优化

------

## 后端：刘芳宇

### ✅ **过去完成了哪些任务**

1. **完成后端框架搭建**
   - 使用 FastAPI建立基础项目框架
   - 设计 RESTful API 架构
2. **完成 mock 接口编写**
   - `/upload_hsi`：接收文件返回示例元数据
   - `/preprocess`：返回固定维度的处理后数据（模拟降噪/标准化）
   - `/classify_svm`、`/classify_cnn`：返回示例分类图
   - `/evaluate`：返回固定的 OA/Kappa 数据
3. **与前端同学对接**
   - 完成数据格式文档
   - 约定光谱曲线格式、分类图格式（二维数组）、混淆矩阵格式

### 📁 **Github 提交记录截图**

（自行贴图）

### 🔮 **接下来的计划**

- 接入 SVM/CNN 同学正式训练好的模型
- 实现模型加载（lazy load）和推理
- 优化 GPU/CPU 调度
- 增加日志（预处理步骤记录）

### ⚠ 遇到的困难

- CNN 模型文件较大，需要考虑部署路径和加载速度
- 高光谱三维数据的 JSON 传输不现实，需要二进制格式或 numpy 文件

------

## **CNN 模型：陈怡冰**

### ✅ 过去完成的任务

1. **完成 CNN 模型初版（3D CNN / HybridSN）**
   - 根据论文HybirdSN源代码进行修改，讲框架改为pytorch
   - 实现 patch 提取、训练脚本、评估模块
2. **完成第一次训练**
   - 使用现有高光谱数据（如 PaviaU）训练了模型，得到训练权重（PCA和模型参数分开保存）
   - 得到初步 ：
     - 总体准确率（Overall Accuracy, OA）
     - 平均准确率（Average Accuracy, AA）
     - Kappa 系数
     - 每类准确率
     - 混淆矩阵（后面可以改成图片）
     - 完整分类报告`classification_report_pytorch.txt`
3. **推理功能**
   - 完整图像预测：
     - 对整张高光谱图像进行逐像素分类
     - 自动跳过零标签像素
     - 使用训练时保存的 PCA 转换器（这里有一个问题就是因为训练集的大小不同，使得每次只能使用训练的数据进行推理）
   - **可视化输出**：
     - 生成预测结果可视化图（`predictions_pytorch.jpg`）
     - 生成地面真值可视化图（`{dataset}_ground_truth_pytorch.jpg`）
     - 使用 spectral 库的颜色映射
   - **独立推理模式**：支持 `--inference_only` 参数仅执行推理而不训练
4. **调研多模态方案**
   - 探索是否可将光谱特征 + 空间纹理联合建模

### 📁 Github 提交记录截图

（自行贴）

### 🔮 接下来的计划

- 在后端给的数据格式上重新训练（这个看情况，应当与原有数据格式为准，而不是mock的数据）
- 输出最终可部署模型
- 尝试学长多模态模型
- 代码重构与模块化

### ⚠ 困难

- GPU 资源有限，训练速度偏慢
- `eval_epoch` 函数中收集预测结果的代码位置需要修正（当前在循环外）
- 代码过长，所有功能都在单文件中，需要模块化
- 缺少训练过程的可视化
- 没有早停（Early Stopping）机制

------

## **SVM 模型：邓林**

### ✅ 过去完成的任务

1. **完成 SVM 模型 baseline**
   - 支持线性核与 RBF 核
   - 训练并产出可用于系统分类图的结果（二维矩阵）
2. **完成性能评估模块**
   - OA
   - Kappa
   - 混淆矩阵
3. **与 CNN 同学对齐数据维度**
   - 将输入 reshape 成统一格式

### 📁 Github 提交记录截图

（自行贴）

### 🔮 接下来的计划

- 继续调参提高 SVM 精度
- 生成可部署模型文件（joblib/pickle）
- 产出性能对比图，方便前端展示

### ⚠ 困难

- 高光谱维度太高，训练耗时长，需要 PCA/波段选择配合
- 有些类别边界模糊，SVM 区分困难

------

# **三、冲刺成果展示**

## **1. 组内最新成果展示**

以下成果基于目前 Alpha 阶段进展：

### **① 系统整体 UI 原型（yjj写）**

- 数据导入界面：支持展示假彩色图、光谱曲线
- 预处理界面：实现 Noise Reduction / Band Selection / Normalization 三大模块布局
- 模型训练界面：SVM 与 CNN 双卡片切换，支持参数设置
- 分类结果硬编码展示：三图对比结构（原图 / CNN / 标注）
- 混淆矩阵与 OA/Kappa 布局成功复现

（此处贴前端截图）

------

### **② 后端接口完成度（lfy写）**

已实现 mock API：

```
POST /upload_hsi  
POST /preprocess  
POST /classify_svm  
POST /classify_cnn  
POST /evaluate
```

前后端已经完成格式对齐。

------

### **③ SVM & CNN 初版模型输出（cyb&dl写）**

- SVM 模型已可生成分类图（二维矩阵）
- CNN 初版模型已跑通 patch-based 训练，正在调参

（此处可贴训练曲线截图或分类图）

------

### **④ 项目管理完成度**

已完成：

- 小组命名与品牌设计（BlueArray & SpecSure）
- 分支设计与协作模式（feature-frontend / feature-backend / feature-svm / feature-cnn）
- 各模块分工与时间线排布（4 周甘特图逻辑）

------

## **2. 站立会议合照**

（补我们上次拍的）

------

## **3. 会议时间、地点、内容记录**

- **时间：** 11 月 26 日
- **地点：** 实验室
- **记录内容：**
  - 确认整体 UI 原型结构
  - 同步 SVM/CNN 初版训练进度
  - 讨论后端 API 对接方式
  - 决定是否加入多模态（目前为调研阶段）
  - 安排下一周任务：
    - 前端负责联调
    - 后端接入真实模型

