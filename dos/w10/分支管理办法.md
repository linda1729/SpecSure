# 分支管理办法

## 0. 先讲清楚：**分支 ≠ 目录**

- **目录（folder）**：用来分前端 / 后端 / 模型 / 文档
  - 例如：`frontend/`、`backend/`、`docs/`、`models/`
- **分支（branch）**：是**整一个项目的不同“时间线快照”**
  - 一个分支里还是会有所有目录，只是代码版本不同

------

## 1. 方案

### **只固定 1 个长期分支：`main`**

- `main` = **能完整跑通的版本（答辩演示用）**
- 任何时间，`main` 都不要放明显跑不起来的东西

### **其他分支都是临时工作分支，按任务命名：**

这里直接按照大家的主要工作取名了，一人领一个，事实上大家也要关注项目整体的完整性

- `feature-frontend`  —— 前端页面开发（yjj）
- `feature-backend`  —— 后端 API、数据处理（lfy）
- `feature-svm`      —— 模型 A：SVM（dl）
- `feature-cnn`      —— 模型 B：3D-CNN（cyb）

------

## 2. 怎么用分支？

### 第一步：所有人本地拉取 `main`

```bash
git clone https://github.com/<你的用户名>/SpecSure.git
cd SpecSure
git checkout main
```

### 第二步：根据自己负责的模块，新开一个工作分支

比如你做前端：

```bash
git checkout -b feature-frontend
git push -u origin feature-frontend
```

做 SVM 的同学：

```bash
git checkout -b feature-svm
git push -u origin feature-svm
```

> 每个人平时 **只在自己的 feature 分支上改代码**。

------

## 3. 日常开发流程

以在 `feature-frontend` 为例：

### ① 写代码之前——先同步 `main`

```bash
git checkout main
git pull origin main        # 拿到大家最新的能跑版本
git checkout feature-frontend
git merge main              # 把 main 的变化并进来
```

### ② 写完一部分功能——提交到自己的分支

```bash
git add .
git commit -m "frontend: 完成数据导入页面初版"
git push origin feature-frontend
```

### ③ 功能比较稳定——发 PR 合并到 `main`

在 GitHub 网页上：

1. 点击 **“Compare & pull request”**
2. 确认 `base: main` ← `compare: feature-frontend`
3. 写上说明：改了什么、怎么运行
4. 让另一个队友帮忙看一下，点 **Merge**

合并完成后，`main` 就变成了**新的“完整可运行版本”**。

> 以后如果这个 feature 不再需要继续单独维护，可以把 `feature-frontend` 分支删掉（不删也没问题）。

------

## 4. 目录结构建议（放在所有分支里都是一样的）

不管是 `main` 还是 `feature-svm`，**目录结构保持一致**，这样大家都不会迷路：

```bash
SpecSure/
│── backend/          # Flask/FastAPI 等后端
│── models/           # svm_model.py, cnn3d_model.py ...
│── frontend/         # Vue 等前端
│── data/             # 示例数据（小一点的样例）
│── docs/             # 需求说明、设计文档、答辩PPT素材
│── README.md
```

- 你做前端 → 改 `frontend/` 里的东西，但依然在 `feature-frontend` 分支上动手
- 同学做 SVM → 改 `models/svm_model.py`、`backend/api/classify.py`，在 `feature-svm` 上动手
- 文档同学 → 改 `docs/`，在 `feature-docs` 上动手

------

