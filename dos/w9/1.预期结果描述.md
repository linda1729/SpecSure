# 预期结果描述（Markdown 整理版）

> 本文档描述了高光谱分类系统最终应呈现的功能、界面、流程及模块结构。整体目标产物类似一个“小型遥感分析软件 / Web 系统”，实现从高光谱数据 → 预处理 → 模型分类 → 可视化 → 指标评估的闭环。

------

## 1. 系统打开后的主界面

系统为桌面应用或网页形式，布局为：

- **左侧侧边栏：**
  1. 数据管理
  2. 预处理
  3. 分类与模型
  4. 结果可视化
  5. 性能评估
- **右侧工作区：** 根据左边选择动态切换界面。

------

## 2. 数据导入 & 预览界面（满足“数据导入”需求）

### 2.1 数据导入

顶部按钮：**“选择文件”**

支持格式：`.mat / .hdr + .dat / .tif`

导入后自动显示：

- 数据维度：`行 × 列 × 波段`
- 波长范围（如：0.4–2.5 μm）
- 数据集名称（可选）

### 2.2 假彩色预览

提供 RGB 波段组合选择：

- 例如：R=30, G=20, B=10
- 或使用标准假彩色（NIR + Red + Green）

### 2.3 光谱曲线查看

鼠标点击图像某像元后显示：

- 光谱曲线（0.4–2.5 μm）
- 便于展示不同地物的光谱差异（如水体、盐田、建筑等）

------

## 3. 预处理模块（满足降噪、波段选择、标准化）

设计成“流水线式步骤”，依次处理：

### 3.1 降噪

- 噪声波段剔除（如剔除大气吸收段）
- 光谱平滑（SG 滤波 / 均值滤波）

并实时显示处理前后曲线对比。

### 3.2 波段选择

两种方式：

1. **人工选择范围**
2. **自动选择：**
   - PCA 主成分前 k 个
   - 波段差异度指标自动选择

显示：

- 波段重要性条形图
- 维度变化（降维前后）

### 3.3 标准化

- Z-score
- Min-max

点击“应用预处理”后显示处理结果摘要。

------

## 4. 分类模块（满足“支持两种模型对比”）

系统支持 **模型 A（传统 ML）** 与 **模型 B（深度学习）** 的并行对比。

### 4.1 训练样本设置

支持：

- 导入 Ground Truth 标注图（整数类别）
- 自动统计样本数量
- 类名自定义（如：水体、盐沼、盐田、建筑等）
- 简单的交互式标注功能（可选）

### 4.2 模型选择示例

- **模型 A：SVM / RF**
  - 参数如核函数、树数等
- **模型 B：3D CNN / HybridSN（简化版）**
  - 输入 patch size
  - epochs
  - batch size

点击“运行分类”后显示：

- 日志
- 训练进度条

------

## 5. 分类结果可视化（满足“伪彩色、分类图、标注对比”）

页面包含三视图：

1. 原始假彩色图
2. 模型 A 分类结果
3. 模型 B 分类结果

### 5.1 分类图显示

类别统一配色：

- 水体：蓝
- 滩涂：棕
- 盐沼：绿
- 盐田：浅紫
- 建筑：红

鼠标指向像元显示：

- 模型 A/B 预测类别
- 真实类别
- 训练参数

### 5.2 标注对比

勾选“显示真实标注”，叠加：

- 边界线
- 区域轮廓

便于评估预测热区是否合理。

------

## 6. 性能评估界面（满足“准确率、Kappa、混淆矩阵”）

### 6.1 指标概览

卡片显示：

- Overall Accuracy（OA）
- Kappa

示例：

- SVM：OA=0.87, Kappa=0.84
- 3D CNN：OA=0.92, Kappa=0.90

### 6.2 混淆矩阵

包含：

- 两模型各自的混淆矩阵热力图
- 鼠标悬停显示像元数量（如：1034 像元，96.7%）

并提供：

- 每类别 PA/UA 精度列表

结论示例：

> 3D CNN 在盐沼与盐田类别上误分更少，说明空间特征有助于区分光谱相近类别。

------

## 7. 用户完整操作流程示例（用于答辩讲故事）

1. 打开系统，选择海岸带高光谱数据
2. 查看维度、波长、光谱曲线
3. 预处理：
   - 剔除噪声波段
   - SG 平滑
   - 标准化
4. 分类：
   - 导入标注
   - 选择模型 A（SVM）与模型 B（3D CNN）
   - 运行训练
5. 可视化：
   - 观察分类结果
   - 对比 A/B
6. 性能评估：
   - OA / Kappa
   - 混淆矩阵
   - 对比模型优劣

**最终输出：**

- 一套完整可运行原型系统
- 数据示例流程
- 分类图、性能表
- PPT 结果展示素材

------

## 8. 系统功能结构图

```
海岸带高光谱数据分类系统
│
├── 数据管理
│   ├── 数据导入（.hdr/.mat/.tif）
│   ├── 基本信息读取
│   ├── 假彩色预览
│   └── 光谱曲线查看
│
├── 预处理
│   ├── 噪声波段剔除
│   ├── 光谱平滑
│   ├── 波段选择
│   ├── 标准化
│   └── 结果导出
│
├── 分类模块
│   ├── 样本导入（标注图/交互标注）
│   ├── 模型 A：SVM / RF
│   ├── 模型 B：3D CNN / HybridSN
│   ├── 参数设置
│   └── 全图预测
│
├── 可视化展示
│   ├── 原始图
│   ├── 模型 A 分类图
│   ├── 模型 B 分类图
│   └── 标注对比
│
└── 性能评估
    ├── OA / AA
    ├── Kappa
    ├── 混淆矩阵
    └── PA / UA
```

------

## 9. 系统界面草图（文本版）

包含：

1. 系统主页
2. 数据导入与光谱曲线界面
3. 预处理界面（流水线）
4. 分类设置界面
5. 分类结果对比界面
6. 性能评估界面

------

## 10. 系统目录结构（建议）

```
HSI-Coastal-Classification/
│
├── backend/
│   ├── app.py
│   ├── api/
│   ├── models/
│   ├── processing/
│   └── saved_models/
│
├── frontend/
│   ├── src/
│   ├── assets/
│   └── main.js
│
├── data/
│   ├── example_hsi/
│   └── labels/
│
└── docs/
    ├── 需求规格说明书.md
    ├── 设计文档.md
    ├── 流程图与界面原型.md
    └── 答辩 PPT/
```

