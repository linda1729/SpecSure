# 2025-12-06 修改记录

- backend/app/core/config.py：改为指向 models/cnn 路径与默认超参，新增 HybridSN 数据集定义。
- backend/app/main.py：精简为挂载 CNN 静态目录并仅加载新的 cnn_service 路由。
- backend/app/services/cnn_service.py：新增 HybridSN 数据集上传、默认配置查询、训练/推理、产物列表与 SVM 预留接口。
- backend/app/schemas.py：重建后端请求/响应模型（数据集、训练响应、产物列表）。
- backend/API.md、backend/API_FULL.md：重新编写接口文档，匹配 CNN 说明文档的输入输出。
- mockfrontend/index.html：前端流程重写为数据上传、HybridSN 训练/推理、产物查看，新增“一键使用默认数据/默认超参/默认模型路径”按钮。
- mockfrontend/app.js：接入新的 `/api/cnn` 接口，支持默认超参加载、模型选择、产物展示和日志输出，自动优先选择就绪的默认数据集并可一键填充默认模型命名，默认 API_BASE 更新为云端 `http://8.140.214.49:8000`（可用 ?api= 覆盖）。
- mockfrontend/styles.css：补充数据卡片、产物列表、指标与预览区样式以适配新界面。
- 删除 backend/data 与旧的 services/models 目录，去除与现有 CNN 实现不符的代码与存储。***
- backend/app/main.py & backend/app/services/cnn_service.py：路由挂载改为 main 统一前缀 `/api/cnn`，避免部署时前缀不一致导致 404。
- backend/app/services/cnn_service.py：调整为同步执行命令并返回详细日志尾部，若脚本报错会携带错误日志，便于快速定位（工作目录固定为 models/cnn/code/HybridSN）。
- backend/app/schemas.py：扩展训练返回数据结构，加入任务状态、进度、时间戳与错误信息字段。
- backend/app/services/cnn_service.py：改为后台线程执行 HybridSN 任务，新增任务状态查询接口与进度解析，启动时记录 PID 与日志。
- backend/API.md / backend/API_FULL.md：补充训练接口的异步返回字段说明，并新增任务状态查询接口描述。
- mockfrontend/index.html：训练视图新增运行进度条区域，用于展示后台任务进度。
- mockfrontend/styles.css：补充进度条样式与布局，匹配现有界面风格。
- mockfrontend/app.js：接入新的训练任务接口，轮询任务状态刷新日志/产物，并驱动前端进度条展示。       
